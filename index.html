<!DOCTYPE html>
<html lang="en">
 <head>
     <title>DaVinci Gaps in Care App</title>
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
     <script src="lib/fhir-client.js"></script>
     <script src="lib/jquery-3.3.1.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
     <link href="css/custom.css" rel="stylesheet">
 </head>
 <body>
    <div class="header-row">
        <div class="header-image-container"><img src="img/puzzle.jpg"></div>
        <div class="header-text-container"><h1>&nbsp;Gaps in Care</h1></div>
    </div>
    <div id="intro-screen" class="card alert-info screen">
        <div class="card-body">
            <h5 class="card-title">Scenario Description</h5>
            <p class='card-text'>
                The Gaps in Care is a powerful report that when used along with other DEQM functionality can
                result in better care results for the payer, the provider, and most importantly the patient.
            </p>
            <p class='card-text'>
                In this scenario, a provider is requesting a gaps in care report for his/her patients from the payer.
                The provider receives the report, he/she then submits additional data to the payer for the patient
                that was identified as having open gaps in the report. He/she then later requests a gaps in care
                report for these patients again from the payer.
            </p>
            <a href="#" class="btn btn-primary" id="btn-start">Begin</a>
        </div>
    </div>
    <div id="review-screen" class="screen">
        <h2>Patient: <span id="patient-name"></span></h2>
        <div id="spinner">Loading...</div>
        <div class="accordion" id="accordionCareGaps">
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingCareGap">
                <button id="gaps-disposition" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCareGaps" aria-expanded="false" aria-controls="collapseCareGaps">
                  Gaps in Care Report
                </button>
              </h2>
              <div id="collapseCareGaps" class="accordion-collapse collapse" aria-labelledby="headingCareGap" data-bs-parent="#accordionCareGaps">
                <div class="accordion-body">
                   <div id="spacerCareGap1"><strong>Request:</strong></div>
                   <div id="buttonCareGap"></div>
                   <div id="spacerCareGap2"><strong>Response:</strong></div>
                   <pre id="outputCareGaps"></pre>
                </div>
              </div>
            </div>
        </div>
        <div id="gaps-info">
        </div>
        <div>
            <button type="button" class="btn btn-secondary" id="btn-configuration">Configure endpoint</button>
            <button type="button" class="btn btn-primary" id="btn-submit">Close gap</button>
            <button type="button" class="btn btn-primary" id="btn-reset">Reset scenario</button>
        </div>
    </div>
    <div id="confirm-screen" class="card alert-info screen">
        <div class="card-body">
            <h5 class="card-title">Confirmation</h5>
            <p class="card-text">Procedure report sent to payer.</p>
            <p class="card-text" id="submit-endpoint"></p>
            <p class="card-text"><textarea id="text-output"></textarea></p>
            <p class="card-text"><a href="#" class="btn btn-primary" id="btn-restart">OK</a></p>
        </div>
    </div>
    <div id="config-screen" class="card alert-info screen">
        <div class="card-body">
            <h5 class="card-title">Gaps Endpoint Configuration</h5>
            <p class='card-text'>
                <p>
                    <select class='custom-select' id='config-select'></select>
                </p>
                <p>
                    <textarea id="config-text"></textarea>
                </p>
            </p>
            <a href="#" class="btn btn-primary" id="btn-config">Save configuration</a>
        </div>
    </div>
    <div id="error-screen" class="card alert-danger screen">
        <div class="card-body">
            <h5 class="card-title" id='error-title'>Error</h5>
            <p class='card-text' id='error-message'></p>
        </div>
    </div>
    <script type="module" src="./js/app.js"></script>
 </body>
</html>
